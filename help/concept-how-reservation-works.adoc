---
permalink: help/concept-how-reservation-works.html 
sidebar: sidebar 
keywords: oncommand, workflow, automation, resource, reservation, capability, require, resource, ensure, available, successful, execution, workflow 
summary: OnCommand Workflow Automation のリソースリザベーション機能では、ワークフローを正常に実行するために必要なリソースが確保されています。 
---
= 予約の仕組み
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
OnCommand Workflow Automation のリソースリザベーション機能では、ワークフローを正常に実行するために必要なリソースが確保されています。

WFA のコマンドを使用すると、 WFA キャッシュデータベースにリソースを追加したあと、通常はキャッシュを取得したあとに、必要なリソースをリザーブしたり予約を解除したりできます。リザベーション機能を使用すると、 WFA の設定で設定したリザベーションの有効期限まで、リザーブリソースをワークフローに確実に割り当てることができます。

リザベーション機能を使用すると、リソースの選択時に他のワークフローで予約されているリソースを除外できます。たとえば、あるアグリゲート上に 100GB のスペースをリザーブしたワークフローが 1 週間後に実行されるようにスケジュール設定されている場合、 また、 * Create Volume * コマンドを使用して別のワークフローを実行している場合、実行中のワークフローは、スケジュールされたワークフローによって予約されたスペースを消費して新しいボリュームを作成することはありません。また、リザベーション機能を使用すると、ワークフローを並行して実行することができます。

実行用のワークフローをプレビューするとき、 WFA プランナーは、キャッシュデータベース内の既存のオブジェクトを含むすべてのリザーブオブジェクトを考慮します。リザベーションを有効にした場合、スケジュールされたワークフローおよび並行して実行されるワークフローの影響、およびワークフローを計画する際にストレージ要素の有無が考慮されます。

次の図の矢印は、ワークフローで予約が有効になっていることを示しています。

image::../media/reservation.png[予約]



== 事前定義されたワークフローでの予約の例

設計者で次の定義済みワークフローを開いて、予約の使用方法を理解できます。

* クローン環境
* clustered Data ONTAP ボリュームを作成
* クラスタピアリングを確立する
* clustered Data ONTAP ボリュームを削除

